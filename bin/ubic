#!/usr/bin/perl
# Copyright (c) 2009 Yandex.ru

use strict;
use warnings;

=head1 NAME

ubic - simple viewer of ubic services

=head1 SYNOPSIS

 ubic [-f] COMMAND [SERVICE]

 Supported commands:
    status
    start
    stop
    restart
    reload
    force-reload
    cached-status
    try-restart
    ...and any service-specific commands

=cut

use Getopt::Long 2.33;
use Pod::Usage;

use Ubic;
use Ubic::Cmd;

my $force;
GetOptions(
    'f|force' => \$force,
) or pod2usage(2);

my $command = $ARGV[0] or pod2usage(2);

if (@ARGV == 2 or @ARGV == 1) {
    my ($command, $name) = @ARGV;
    Ubic::Cmd->run({
        name => $name,
        command => $command,
        force => $force,
    });
}
else {
    pod2usage(2);
}

=head1 AUTHOR

Vyacheslav Matjukhin <mmcleric@yandex-team.ru>

=cut
